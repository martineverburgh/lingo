<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Player</title>
</head>
<body>

<input type="text" id="playerName" placeholder="Naam speler"><br>
<input type="text" id="lastName" placeholder="Last name"><br>
<button id="get">Get</button>
<button id="save">Save</button>
<button id="delete">Delete</button>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
  $( document ).ready(function() {
    
  }


        $('#get').click(function() {
            jQuery.get('/api/players/' + $('#id').val(), function(data) {
                $('#lastName').val(data.lingoScore);
            });
        });
        $('#save').click(function() {
           var id = parseInt($('#id').val());
           var lastName = $('#lastName').val();
           if (id > 0) {
               jQuery.get('/employees/' + id, function(data) {
                   data.lastName = lastName;
                   jQuery.ajax('/employees/' + id, {
                       method: 'PUT',
                       contentType: 'application/json',
                       data: JSON.stringify(data)
                   }).done(function() {
                       window.alert('Opgeslagen');
                   });
               });
           } else {
               data = {
                   lastName: lastName,
                   email: lastName.toUpperCase().substr(0, 8),
                   job: 'http://localhost:8080/jobs/IT_PROG',
                   hireDate: new Date()
               };
               jQuery.ajax('/employees', {
                   method: 'POST',
                   contentType: 'application/json',
                   data: JSON.stringify(data)
               }).done(function(data) {
                   window.alert('Opgeslagen');
                   var parts = data._links.self.href.split('/');
                   $('#id').val(parts[parts.length - 1]);
               });
           }
        });
        $('#delete').click(function() {
            jQuery.ajax('/employees/' + parseInt($('#id').val()), {
                method: 'DELETE'
            }).done(function () {
                window.alert('Verwijderd');
                $('#id').val('');
                $('#lastName').val('');
            });
        });
    </script>
</body>
</html>